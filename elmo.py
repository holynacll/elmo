import tensorflow_hub as hub
import tensorflow as tf

elmo = hub.Module("https://tfhub.dev/google/elmo/2", trainable=True)
#print(elmo)

# just a random sentence
# x = ["Roasted ants are a popular snack in Columbia"]
x = ['homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', 'Hj tb aprovado CCJ PL proíbe Prefeitura penalizar qq cidadão exercer direito escolher vaci ', 'Eu costumo respeitar todo mundo suas escolhas não preciso nenhum d venha dizer eu preciso vacina ', 'Eu costumo respeitar todo mundo suas escolhas não preciso nenhum d venha dizer eu preciso vacina ', 'Saúde Mais da população guairense tomou primeira dose vacina ', 'Onu estuda barrar Bolsonaro falta vacina ', ' hj eu acordei hrs pra tomar vacina', 'QUARTA QUINTA SEXTA Põe aí vai SÓ TRANSFORMAR EM XAROPE MAIS PRÁTICO Covid Israel prepar ', 'vc acha vacina mais perigosa vírus com certeza vacina mais perigo ', 'Taga amêgo tenha dito há umas semanas EpÁ eStE PsV aFiNaL eRa MuItO fRaQuInHo Disclaimer vacina anti ', 'Bem vindos Brasil onde vacina precisa comprovante voto ', 'Taga amêgo tenha dito há umas semanas EpÁ eStE PsV aFiNaL eRa MuItO fRaQuInHo Disclaimer vacina anti ', ' todo mundo so teve alguns efeitos colaterais qlqr outra vacina vtmnc pessoa morre ja qrem dar ', 'vc acha vacina mais perigosa vírus com certeza vacina mais perigosa vírus ', 'Ladrão vacina ladrão feijão Bolsonaro roubou você #BolsonaroLadrão', 'Vacina must ', 'Bem vindos Brasil onde vacina precisa comprovante voto ', 'Eu costumo respeitar todo mundo suas escolhas não preciso nenhum d venha dizer eu preciso vacina ', 'Está rolando campanha vacinação aqui Twitter várias fanbases Usem #VacinaNoGrau VACINA JOVE ', 'Vale registro desembargadora suspendeu liminarmente decreto prefeitura RJ obrigava servidores to ', 'PegA VIROS DOQ TOMA VACINA EU TO PASSANDOMALLLLLL', 'ISRAEL Microfone ligado pega Ministro Saúde Israel confessando passaportes vacina são sobre coerção ', 'Vale registro desembargadora suspendeu liminarmente decreto prefeitura RJ obrigava servidores to ', 'Pregando importância vacina saindo Coreia agora pra assembléia puta ONU filha puta dessa agindo ', 'que meninos precisam fazer pra vcs confiarem neles Vão tomar cu vcs Eles tão sendo cuidadosos desde ', 'fiz versão música WE ARE THE CHAMPIONS meu querido amado FREDDIE MERCURY DO QUEN presidente ', 'Eu costumo respeitar todo mundo suas escolhas não preciso nenhum d venha dizer eu preciso vacina ', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', ' Preparem braços terceira quarta quinta talvez sexta dose vacina ok ', ' imprensa deve passar mencionar percentagem adultos uma dose vacina ontem os re ', 'Bem vindos Brasil onde vacina precisa comprovante voto ', 'QUEIROGA DETONA DORIA Ontem estive Manaus habilitar UBS fluvial Lá tinha CoronaVac AstraZeneca Pfizer ', 'Israel prepara quarta dose vacina seria melhor vender garrafas dois litros ', 'Tomara eu tome vacina amanhã', 'Se fossemos governados Rui Rio Chicão ainda hoje estávamos fila hospitais privados recebermos primeira ', 'vacina mata oq mata eh ouvir músicas antigas jorge mateus', 'cara vofes estao pegandi sei la pessoas estao supostamente morrendo causa vacina', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', 'Fala sério ainda falando CoVAxim Não existe vacina país foi gasto real erário ', 'Independente disto maioria quer vacina experimental todo custo muita tv viu ', 'EXCLUSIVO Descobrimos morou anos apartamento família um sócio Belcher respons ', 'Tomei vacina hj nem parece kkk Está doendo fiz tudo', 'Butantan esclarece não necessária dose vacina contra Covid Afirmar é disseminar Fake ', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', 'Tomei vacina hoje parece fui dopada vacinada', 'tô uma dor cabeça não sei é vacina de chorar', 'Queria ser famosa pra ver pandemia acaba pra mim tbm povo tá confundindo vacina cura quando maiori ', 'Essa vacina fazendo vitimas que aparenta', 'Vale registro desembargadora suspendeu liminarmente decreto prefeitura RJ obrigava servidores to ', 'Pode falar foguinho tá gostoso bonito Camisa marca vacina daquele jeitão ', 'Obrigada Vereador Douglas porque um crime responder vítima cont ', 'vacina salva mata essa sequência aqui ', 'Contrariando comentários Nicki Minaj sobre caso testículos inchados Trinidad Tobago efeito colateral ', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', ' Deselegante rachadinha roubar dinheiro público inocentar político corrupto deixar população morrer vacina ', 'Hj tb aprovado CCJ PL proíbe Prefeitura penalizar qq cidadão exercer direito escolher vaci ', ' Lembrando vacina diminui efeitos vírus nada mesmo vacinados morrendo dia após dia ', ' VACINA JOVEM #VacinaNoGrau #TodosPelasVacinas ', 'Bem vindos Brasil onde vacina precisa comprovante voto ', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', 'Uma cada quatro doses vacina covid aplicadas mundo CoronaVac via ', 'Eu costumo respeitar todo mundo suas escolhas não preciso nenhum d venha dizer eu preciso vacina ', 'Eu costumo respeitar todo mundo suas escolhas não preciso nenhum d venha dizer eu preciso vacina ', 'Vale registro desembargadora suspendeu liminarmente decreto prefeitura RJ obrigava servidores to ', 'Bem vindos Brasil onde vacina precisa comprovante voto ', 'Negacionista quem acredita vacina tomou quer forçar outros tomarem medo se contaminar Eu ', 'Vale registro desembargadora suspendeu liminarmente decreto prefeitura RJ obrigava servidores to ', 'NY exige atestado vacina participantes Assembleia Geral ONU Consta protocolo chefe estado disti ', 'Tá sobrando vacina sua cidade ', 'Vacina compulsória Apóie PL proíbe passaporte sanitário Estado SP ', 'me perguntando quais documentos precisa tomar vacina eu sentindo velha', 'Bom diaaaa vosso dia repleto boas energias acordeiiii nao recomendo agora vou tomar vacina ', 'Hoje fui tomar vacina contra TÉTANO DIFTERIA dT percebi ninguém questiona marca se interessa saber sobre ', 'Bolsoladro Roubou muito dinheiro roubou vacina roubou vidas roubou aposentadoria brasileiros roubou direitos tr ', 'Vou dormir vou que tomar vacina amanhã pq hoje tô passando mal saco', ' Pessoas de tomar vacina segundo Nicki Minaj', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', 'PRECISAMOS VACINAR Esse jornal precisa tornar realidade hein Use #VacinaNoGrau VACINA JOVEM #T ', 'eduardo paes trends twitter sendo chamado ditador implementar passaporte vacina delícia praze ', 'Oi Você primo Nicki Minaj Não efeito vacina aqui ', 'Vacina salva mata é transar olhando olho ', 'Taga amêgo tenha dito há umas semanas EpÁ eStE PsV aFiNaL eRa MuItO fRaQuInHo Disclaimer vacina anti ', 'Israel prepara quarta dose vacina seria melhor vender garrafas dois litros ', 'Eu costumo respeitar todo mundo suas escolhas não preciso nenhum d venha dizer eu preciso vacina ', 'NY exige atestado vacina participantes Assembleia Geral ONU Consta protocolo chefe estado disti ', 'homem trás dessa máscara prefeito RJ Ele admite estar CRIANDO DIFICULDADES vida cidadão tomar ', 'Os maiores renomados mundo eles prêmio Nobel Jack Montagnier sendo calados mostrarem g ', 'AO VIVO Marconny lobista Precisa atuou esquema vacina testes Acesse ', 'Nossa Ja h hj tarde que tomar vacina', 'Eu escolho dar vacina meus filhos Danem Se for obrigatória entrar lugar vou pra ', 'Aliás espetáculo deprimente imprensa fez as variantes Qualquer estudo bosta revisão pares sobre i ', 'EXCLUSIVO Descobrimos morou anos apartamento família um sócio Belcher respons ', 'vacina salva oq mata sentir ciúmes não meu', 'QUARTA QUINTA SEXTA Põe aí vai SÓ TRANSFORMAR EM XAROPE MAIS PRÁTICO Covid Israel ', 'Vejam alerta desse atleta americano teve reação vacina contra COVID prejudicado sua carreira ', 'Hj tb aprovado CCJ PL proíbe Prefeitura penalizar qq cidadão exercer direito escolher vaci ', 'NOM Austrália Se você quer voltar uma vida normal tome vacina vacina aplica ', 'Bem vindos Brasil onde vacina precisa comprovante voto ', 'Adolescente infarto morre horas após tomar dose Pfizer Embora pai adolescente ']

# Extract ELMo features 
# embeddings = elmo(x, signature="default", as_dict=True)["elmo"]

def elmo_vectors(x):
  embeddings = elmo(x, signature="default", as_dict=True)["elmo"]

  with tf.Session() as sess:
    sess.run(tf.global_variables_initializer())
    sess.run(tf.tables_initializer())
    # return average of ELMo features
    return sess.run(tf.reduce_mean(embeddings,1))



print(elmo_vectors(x))